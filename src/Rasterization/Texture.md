Lecture 9 37
Shading 3 Exture Mapping
长三角形内插值

##Background

为什么需要计算三角形内插值？
答。很多解殊道的计算都是只计算顶点。
而内部点的鱼通过插鱼得到平滑的结果。
插值可以用于哪些数据？
答：纹理坐标。颜色。法向量…

##重心坐标 Bang centric Coordinates

Coordinate System。
瑕三角形的三个顶点分别是 ABC,
刺三角形所在平面上的任意一点可描述为 A-13-C 的线性组合，
即。 以 y) =2 At BB 十孔
如果刚）在三角形内部，则应满足
at f t r =1
220， Poo.530
12. B,小）称为在平角形平面上的任意点在三角形
重心坐标系下的表示，简称重心坐标
在此定义下，可得出。
A = C 1. 0，0） B =（0.1.0） C =（0、 d.12

道心一比， i, j)
任意点比. y)的重心坐标。[15：44斌 38
atlthkyrltyreihdā
重心坐标不是指某个点的坐标。
而是根据三角形顶点定义的一套坐标系
##利用重心坐标做插值
点 p 的重心坐标为（2. P。孙 优点计算方便
兠 p =2 Un tf b tru
局限性. i i
空间三角形在平面上投影以后，
同一个点在投影前后的重心坐标会改变
因此，插值所有的重心坐标必须是投影前的重心坐标

## 应用纹理

为屏幕上的点12如以.gs 设置颜色
① 找出 p 在投影前的坐标 p'=仪， g, z)
② 计算12'的 LU.is
③ 从 texture 中取出心门急的值
④ 设置120的值为(h v)鱼的咀

## 纹理放人 Texture Magnification

问题描述
hare Map 是25比256的，而要投影的屏䚍化的，

会导致多个屏幕借谋对应数个纹理请谋。
解决方法： 39

## 进线性插值 Biinear her plain

① 取格子对这 'Re 的直
閫爨嚣爨爨爨
Cd 即分别做㶇向插值樱的鲍
luiizd.li、定义插值 兆[0.4
lerp 事以， No, U.）= v。比(UoU。1.
bihar interpolation:
U。二 lerp (s, noo, Uno)
u、二 lerp (s, U。1， Un)
return ierplt.uo.us­#taBiubie 事双向三次插值
0取周围16个点
② 三海阶插值
问题描述2：纹理像谋分辨率过大
效果：[35：50]，近处路齿，远多摩尔纹
原因：「
[37=00]
由于透视的原因，不同距离的屏幕像素对应的纹理像
素区域烟

生近太远。
一个屏幕像素对应一片纹理髓，但只取一个纹理像素40
来代表这片点，就会出问题
解决访法：
ⓛ MSAA,超采样，可解决.但 costly
② 点查询→范围查询。
不采样。而是取一个范围的平均值。
## Mip map [44：20]
目的范围查询
特点。快，不精确（近似）， 高转区域
① [47：17]根据原始 texture 预处理出低分辨率的 texture
曲 仅消耗额外酬存储
② 找出屏幕上的一个像素对应的 texture 上的近似方形
区域[52：30]
③ 根据 mpmap 计算边长为人的 texture 方形区域的 average
有边长为人的方形区域，会在第 log 北层变成一个能
直接查在 logz.lk texture 上查 can value 酶即可
④ 效果[56：20]
不同颜色代表查询不同的层
但是，存在两层之间的边界，边界处可能存在突变
☆

⑤ 改进。利用三线性插值 tri linear 得好翻如第1.8后
的值。 41
即层数也可数人是连续的直。[51州
把口层的插鱼结果与1211层的结果再敌一次插值
⑥ 效果。 [1：00：20]
让01：35了 Mip Map 解虬239问题的效果
诞远处变成的一片灰色。
原因。 mipmwp 只能的计算方形区域
⑦ 改进。三线性插值→各项异性过滤 Anisotropic littering
[103：35]对原始 texture 做不均匀正缩，
这样，有形压缩区域对应原始的矩形区域
[1：04：40]屏幕的方形区域实际上是对应纹理空间的不规律形状
如果用正方形来代表这长条，会发生过渡 blur.
各项异性过滤能解以1]口的问题，不能解决心的问题。
⑧ 改进 Anisotropic Filling →1比一二 Filtering
[1：00：3门 纳

42

出纹理应用
纹理，原义为贴图。
广义上，纹理=内存 t 范围查询（滤图）
tt#环境光照
以一个点出发，向其四周都能看到光。
把这些光记录下来，就是环境光照[8：56在了
用这个环境光照来渲染藤壶[9：28在了
1-用纹理描述环境光
2用环境光渲染谋定物体
假设环境光的光源无限远，只记录方向信息，不记录深度
信息
且在记录光照信息时，不区分光照的种类。
###应用例子2 [12-35] Spherical 环境图
把环境光存储在璎[12-35在了 '
t
并把它展开[13：32]
但存在扭曲问题
###Cube Map 泌的
把光照信息存在立方体表面。
阔 球麺点和立方体跴点 43
可以一一对应
并展开 [15：21]
##凸凸见鲴
用纹理定义某个点的相对高度，
在 object 觚 mgwme.hr 不变的条件下，得到视觉上的表面
凹凸效果，
即用复杂纹理代替复杂几何
原理高度->法线→着色或装线→着色
###法线贴图 Bump Mapping 2口、
切线的自 it.中！
[22-28] m i nom­nif.HN 辔器，....
3日：
切线方向。（1. dpldu.dph.mn
法线方向。 (the, 一 the, 11.. nom
先在12点定义局部坐标丢，
假原始方向向上，为0.1）或 w.0，1）
在此局部坐标系中求切线方向和法线方向，
to_-再十刀、丑世界坐大示糸
