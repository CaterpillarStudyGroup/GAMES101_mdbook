Lecture 7
Shading 着色 31

# 可见性/蓬挡

讟
有多个物理体，每个物体都有多个4，因此要处理摭挡
问题。
原是画䟑滚
back-> front,覆盖
ⓛ 排序 Olnhgn)
ⓩ 光栅化
局限性、 [09：26了无法决定深度
Z-Buffer 算法[心403
为了便于计算， object 上每个点的䂳标都取其绝对焦
因此： 0 Z 20
② Z 小→近， E 大→远
每次生成2张图[14：38]
o frame buffer:存最终结果
② depth but。有某个俼谋点事对应的在0时上的最小
的2（最近）
ˊ 具体步骤
ⓥ depth buffer 初始化为0

② 每次绘制△时，计算当前12以比在△上的飞。
苦 Z <buffer Gaels,
制，绘制，并更新 butter 32
算法特点
0 0 M)
② 与△的绘制顺序无关
③ 可以与 MSAA 算法兼容
④ 适合 GPU 优化（因为20） .
# Shading 着色
[32：31]不考虑着色的效果 .
[32：55了期望达到的效果
纯色立方体的每个面每个时刻呈现的颜色有变化。使
整体效果更真实、
课程中的 shading:
The process of applying a material to an object.
对一个物体应用一个材质的过程，不包含给0分比溢䙍足影的过年是.

## Bling-Phong 反射模型

高光.。光线反射到镜面反射附近
漫反射=光线被反射到各个方向上，
环境光：主政伇任何一个点会接议到来自环境的常­量的光
Speeder high, Dye Reflection, Ambient Lighting

弊 hading point:当前要计算着色的点， 马了
说于物体表面。
A) Surface normal.假设点附近极小范围内是一个平面，
n. 为毛面指向外的法向量。
U) viewer direction 观测方向
4） light direction。光源方向。
与光照向 point 的方向相反
object 在 point 处的属性 color. shininess
漫反射[47游了
打到 point 上的光线被均匀地反射出去，（与观测点没有䟀）
[49：21] l 与几的夹角决定了 point 接收到的光线的强度(Lambert's
[54-48了 圆心是点光源，向外辐射能量 余弦定律1
能量守恒定理）不考虑传播损耗，每个圆上的能量之和不一。
某宝处的能量与它到光源的距离是䂑
平方
管管唱器𤦉
漫反射 1-牛璡而一避 有多少能量 从正面照射的 有咧能量
对光的 到达了 point 光，浸反射才 iwm 接收
的能量。 吸蝉
有意义 .


Lecture 8
Shading 2 34

## Fi Bling-Phong 反射模型

高光项
R 为物体事镜面反射的方向。
当0和 R 接近时，会看到高光
108-25]：当0和几接近时，世1）的方向与几接近。
h. = |蕊、代表了 Ctl)的方向，
h. 称为半程向量 half vector
L. 二点_沁（1 maxton
通常认为 肯多少能量到 小儿和人的接近程度
高光颜色 达了 point.
是白色
Ls 同样应考虑有多少能量被接收，但 Bling thong 模型
将这个因素简化了。
Note..注意光线袚接收和被"吸收"的区别。
问：为什么用 n_n 代替 R.io?
答。因为 n.in 更容易计算
间、公式中为什么会有指数12？
答。[12：14]在保证函数趋势不变的同时让高光范围更集中
p 通管敬上心-200]

环境光照项
假设。所有 point 接收到来自环境光的强度 35
相同，且为常数
[a = K a I a 与1和0无关
L-l.cl t lot La
间。为什么不考虑 point 到0的距离对能量的影响？
答：这部分比较复杂、 Bling-phong 模型没有考虑这个问题
#着色频率[心打
图1.着色应用于一个平面上。整个平面共用一个人。(Flat Shading)
图2.着色应用三角形面片的顶点上，每个顶点计算乱 Garand
三角玛内通过插值计算出 L Shading)
图3、着色应用于像素，每个借谋计算一个 Lil Phong Shading
所40了不同着色频率和着色几何体的效果比较

## 计算一个点的法向量。

方法-利用几何特征
例如已知 object 是个球体。可直接球出球表面荒点的几
方法二。利用涌形面片。[3008]
N。= 医 Ni
Hirth 相邻面的 N 的平均
或加权平均一
方法三：利用插值[31229]

式 Real-time Rendering Pipeline
实时渲染管线1332123 36
[35：24]
建模→几何处理一光栅化
→ 着色→帧缓存
基于 OpenGL 的着色编程是工程问题，跳过
井纹理映射 Texture Mapping [54：50]
[55：59]
[a = K d *(I / k'） *(n.LI
Yfhlhtnht tnrnneezrott
不同点的颜色不同 小球上所有点处于相同的一光照环境下
object 在不同豳处的点需要定义不同的属性，
上面例子中的1化是其中一种属继

## 表面

3 D 物体的表面是21日敏、
纹理：一张有弹性、可拉伸的2口图
纹理映射。把2口图赚贴在的物体表面的的过程
假设映射关系是已知的
纹理坐标用 LU,0）表示， 范围[0，1]
映射关系只包含0顶点对应的(U、以
△ 内部点的 uh 通过插值得到

